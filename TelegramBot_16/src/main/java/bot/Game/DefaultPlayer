package bot.Game;

import bot.DbHandler;

import java.sql.SQLException;

public class DefaultPlayer implements Player {

    private int count;
    private String expectedAnswer;
    private String currentAnswer;
    private long chatId;
    DbHandler dbHandler;

    {
        try {
            dbHandler = DbHandler.getInstance();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }

    public void setExpectedAnswer(String expectedAnswer){
        this.expectedAnswer = expectedAnswer;
    }
    public void setCurrentAnswer(String currentAnswer) {this.currentAnswer = currentAnswer;}
    public String getCurrentAnswer() { return currentAnswer; }
    public void upCount(){count++;}

    public boolean isInGame() {
        return dbHandler.isInGame(chatId);
    }

    public void setInGame(boolean inGame) throws SQLException {
        dbHandler.changePlay(chatId, inGame);
    }

    public Long getChatId() {
        return chatId;
    }

    public void setChatId(Long chatId) {
        this.chatId = chatId;
    }

    @Override
    public String toString() {
        return "Scores: " + count + "\n" + expectedAnswer + "\n";
    }



}
